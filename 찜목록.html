<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì°œ ëª©ë¡</title>
 <!-- Pretendard Variable í°íŠ¸ ì¶”ê°€ -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.css" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
	body { margin: 0; font-family: 'Pretendard Variable', 'Noto Sans KR', sans-serif; background-color: #f4f4f4; }

    .container { display: flex; min-height: 100vh; }
    .main-content { flex: 1; padding: 60px 80px; background-color: #fff; }
    .wishlist-header { border-bottom: 2px solid #ccc; padding-bottom: 15px; margin-bottom: 30px; font-size: 26px; font-weight: 700; }
    .room-card { background: #fafafa; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 30px; padding: 20px; display: flex; gap: 20px; align-items: center; box-shadow: 0 4px 8px rgba(0,0,0,0.05);}
    .room-card img { width: 180px; height: 120px; border-radius: 4px; object-fit: cover;}
    .room-details { flex: 1; }
    .room-details h4 { margin: 0 0 10px; font-size: 18px; }
    .room-details p { margin: 5px 0; font-size: 15px; }
    .search-btn { background-color: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 14px; cursor: pointer; margin-bottom: 20px;}
    .search-btn:hover { background-color: #0056b3; }
    .pagination { display: flex; gap: 12px; justify-content: center; margin: 30px 0;}
    .page-btn {
      background: #198cff;
      color: #fff;
      border: none;
      border-radius: 8px;
      width: 48px;
      height: 48px;
      font-size: 20px;
      font-weight: 500;
      cursor: pointer;
      transition: 0.1s;
      outline: none;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .page-btn.current {
      border: 3px solid #222;
      background: #198cff;
      color: #fff;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }
    .page-btn:disabled {
      opacity: 0.4;
      cursor: default;
    }
  </style>
</head>
<body>
  <div id="header-container"></div>
  <div class="container">
    <div id="sidebar-container"></div>
    <div class="main-content" id="wishlist-container">
      <div class="wishlist-header">ì°œ ëª©ë¡</div>
      <button class="search-btn" onclick="searchWishlist()">ğŸ” ì°œ ëª©ë¡ ì¡°íšŒ</button>
      <div id="wishlist-list"></div>
      <div class="pagination" id="pagination"></div>
    </div>
  </div>
  <script>
    // --- ì´ë¯¸ì§€ íŒŒì¼ ë§µ ---
    const imageMap = {
      "ê°•ë‚¨ ë„ë¯¸í† ë¦¬": ["image/room1.jpg", "image/room1_2.jpg", "image/room1_3.jpg"],
      "ë¶€ì‚° í•´ìš´ëŒ€": ["image/room2.jpg", "image/room2_2.jpg", "image/room2_3.jpg"],
      "ì œì£¼ë„ í•œë‹¬ì‚´ì´": ["image/room3.jpg", "image/room3_2.jpg", "image/room3_3.jpg"],
      "ëŒ€êµ¬ ìŠ¤í…Œì´": ["image/room4.jpg","image/room4_2.jpg","image/room4_3.jpg"] // room4.jpg ì—†ìœ¼ë©´ ìë™ default.jpg
    };
    // --- localStorage ìë™ ì´ˆê¸°í™” (ë§¤ ìƒˆë¡œê³ ì¹¨ì‹œ í…ŒìŠ¤íŠ¸ìš©, ì‹¤ì„œë¹„ìŠ¤ëŠ” ifë¬¸ìœ¼ë¡œ ì‚¬ìš©) ---
    localStorage.setItem('wishlist', JSON.stringify([
      {
        name: "ê°•ë‚¨ ë„ë¯¸í† ë¦¬",
        description: "ê¹¨ë—í•˜ê³  ì¡°ìš©í•œ ì—¬ì„± ì „ìš© ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤",
        price: "17,000ì›/ë°•",
        location: "ì„œìš¸ ê°•ë‚¨êµ¬"
      },
      {
        name: "ë¶€ì‚° í•´ìš´ëŒ€",
        description: "ë°”ë‹¤ê°€ ë³´ì´ëŠ” ìˆ™ì†Œ! í•´ìˆ˜ìš•ì¥ ë„ë³´ 2ë¶„",
        price: "20,000ì›/ë°•",
        location: "ë¶€ì‚° í•´ìš´ëŒ€êµ¬"
      },
      {
        name: "ì œì£¼ë„ í•œë‹¬ì‚´ì´",
        description: "ì œì£¼ì‚´ì´ ìµœì í™” ìˆ™ì†Œ, ì›” ë‹¨ìœ„ ê°€ëŠ¥",
        price: "500,000ì›/ì›”",
        location: "ì œì£¼ ì œì£¼ì‹œ"
      },
      {
        name: "ëŒ€êµ¬ ìŠ¤í…Œì´",
        description: "ëŒ€êµ¬ ì¤‘ì‹¬ì§€ ìœ„ì¹˜, ìµœì‹  ë¦¬ëª¨ë¸ë§",
        price: "25,000ì›/ë°•",
        location: "ëŒ€êµ¬ ì¤‘êµ¬"
      }
    ]));
    const wishlistData = JSON.parse(localStorage.getItem('wishlist')) || [];
    const listPerPage = 3;
    let currentPage = 1;

    function displayWishlist(list, page = 1) {
      const wishlistList = document.getElementById("wishlist-list");
      wishlistList.innerHTML = ""; // ì´ˆê¸°í™”
      const start = (page - 1) * listPerPage;
      const pagedList = list.slice(start, start + listPerPage);

      pagedList.forEach((item, idx) => {
        const roomCard = document.createElement("div");
        roomCard.className = "room-card";
        const img = document.createElement("img");
        const imgId = `img${start+idx}`;
        img.id = imgId;
        img.src = imageMap[item.name] ? imageMap[item.name][0] : "image/default.jpg";
        img.onerror = function() { this.src = "image/default.jpg"; };
        img.alt = item.name + " ì´ë¯¸ì§€";
        const details = document.createElement("div");
        details.className = "room-details";
        details.innerHTML = `
          <h4>${item.name}</h4>
          <p>${item.description}</p>
          <p>ê°€ê²©: ${item.price}</p>
          <p>ìœ„ì¹˜: ${item.location}</p>
        `;
        roomCard.appendChild(img);
        roomCard.appendChild(details);
        wishlistList.appendChild(roomCard);

        // ì´ë¯¸ì§€ ì—¬ëŸ¬ ê°œ ìˆì„ ë•Œ ìë™ ìˆœí™˜
        const imgs = imageMap[item.name] || ["image/default.jpg"];
        let i = 0;
        setInterval(() => {
          i = (i + 1) % imgs.length;
          document.getElementById(imgId).src = imgs[i];
        }, 3000);
      });
      drawPagination(list.length, page);
    }

    function drawPagination(total, page) {
      const totalPages = Math.ceil(total / listPerPage);
      const pagination = document.getElementById("pagination");
      pagination.innerHTML = "";
      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.textContent = i;
        btn.className = "page-btn" + (i === page ? " current" : "");
        btn.disabled = i === page;
        btn.onclick = () => {
          currentPage = i;
          displayWishlist(wishlistData, currentPage);
        };
        pagination.appendChild(btn);
      }
    }

    function searchWishlist() {
      const keyword = prompt("ì¡°íšŒí•  ìˆ™ì†Œ ì´ë¦„ ë˜ëŠ” í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
      if (keyword) {
        const filtered = wishlistData.filter(item => item.name.includes(keyword));
        if (filtered.length > 0) {
          currentPage = 1;
          displayWishlist(filtered, currentPage);
        } else {
          alert("í•´ë‹¹ ì¡°ê±´ì— ë§ëŠ” ì°œ ëª©ë¡ì´ ì—†ìŠµë‹ˆë‹¤.");
        }
      }
    }

    // ì™¸ë¶€ íŒŒì¼ ì‚½ì… ë° ì²« í™”ë©´ ë Œë”ë§
    window.addEventListener('DOMContentLoaded', () => {
      fetch('header.html').then(r => r.text()).then(h => {
        document.getElementById('header-container').innerHTML = h;
      });
      fetch('footer.html').then(r => r.text()).then(f => {
        document.getElementById('footer-container').innerHTML = f;
      });
      fetch('sidebar.html')
        .then(response => response.text())
        .then(html => {
          document.getElementById('sidebar-container').innerHTML = html;
        });
      displayWishlist(wishlistData, currentPage); // ì²« ë¡œë”©
    });
    
    function goToAdmin() {
        const pw = prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
        if (pw === "1234") {
          alert("í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ì í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
          location.href = "ë¶„ì„í˜ì´ì§€.html";
        } else if (pw !== null) {
          alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
        }
      }
  </script>

  </script>
  <div id="footer-container"></div>
</body>
</html>
